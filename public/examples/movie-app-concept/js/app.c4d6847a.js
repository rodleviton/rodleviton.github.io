(function(t){function e(e){for(var a,n,c=e[0],o=e[1],u=e[2],l=0,h=[];l<c.length;l++)n=c[l],s[n]&&h.push(s[n][0]),s[n]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a]);d&&d(e);while(h.length)h.shift()();return r.push.apply(r,u||[]),i()}function i(){for(var t,e=0;e<r.length;e++){for(var i=r[e],a=!0,c=1;c<i.length;c++){var o=i[c];0!==s[o]&&(a=!1)}a&&(r.splice(e--,1),t=n(n.s=i[0]))}return t}var a={},s={app:0},r=[];function n(e){if(a[e])return a[e].exports;var i=a[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=a,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(i,a,function(e){return t[e]}.bind(null,a));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var d=o;r.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"24f6":function(t,e,i){},"54b1":function(t,e,i){"use strict";var a=i("78c0"),s=i.n(a);s.a},"56ca":function(t,e,i){"use strict";var a=i("6493"),s=i.n(a);s.a},"56d7":function(t,e,i){"use strict";i.r(e);i("cadf"),i("551c"),i("f751"),i("097d");var a=i("2b0e"),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("Shell",[i("Explorer")],1)],1)},r=[],n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("main",{staticClass:"shell"},[i("div",{staticClass:"container"},[t._t("default")],2),i("div",{staticClass:"shadow"})])},c=[],o=a["a"].extend({}),u=o,d=(i("e158"),i("2877")),l=Object(d["a"])(u,n,c,!1,null,"78de464c",null),h=l.exports,f=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("Header",{staticClass:"header",style:{transform:"scale("+this.getHeaderScale()+") translate(0, "+this.getHeaderOffset()+"%)",opacity:t.getHeaderOpacity(),transition:"opacity "+(t.isDetailView?.35:t.speed)+"s, transform "+(t.isDetailView?.75:t.speed)+"s ease"}},[i("Logo",{attrs:{title:"Movies"}}),i("Avatar",{attrs:{src:"img/user/avatar.jpg"}})],1),i("CardStack",{staticClass:"stack",style:{transform:"translate(0, "+this.getStackYPosition()+"px)",transition:"all "+t.speed+"s ease"},attrs:{cards:t.data,onChange:t.onChange,onMove:t.onMove,onDetailViewMove:t.onDetailViewMove,onSelect:t.onSelect,onDeselect:t.onDeselect}}),i("Panel",{attrs:{active:t.isDetailView,speed:t.speed}},[t._l(t.data,function(e,a){return i("div",{key:a,style:{position:"absolute",transform:"translate(0, "+t.getYPosition(a)+"px)",transition:"transform "+(t.isDragging||!t.isVisible(a)?0:t.speed)+"s ease 0s, opacity "+(t.isDragging||!t.isVisible(a)?0:t.speed)+"s ease 0s",opacity:t.getOpacity(a)}},[i("div",[i("h2",{staticClass:"title"},[t._v(t._s(e.title))]),i("h3",{staticClass:"date"},[t._v("\n          Coming in\n          "),i("span",[t._v(t._s(e.release))])]),i("div",{staticClass:"description",domProps:{innerHTML:t._s(e.description)}})])])}),i("div",{staticClass:"rating"},[i("Rating",{attrs:{rating:this.getActiveRating()}})],1)],2)],1)},g=[],p=(i("20d6"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"avatar"},[i("img",{attrs:{src:t.src}})])}),v=[],m=a["a"].extend({props:{src:String}}),b=m,D=(i("f918"),Object(d["a"])(b,p,v,!1,null,"e0b24fda",null)),x=D.exports,C=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},t._l(t.stack,function(e,a){return i("Card",{key:e._uuid,style:{borderRadius:e.borderRadius,top:e.yPos+"px",width:e.width+"px",height:e.height+"px",opacity:e.opacity,display:a>t.maxVisibleCards+2?"none":"flex",zIndex:e.zIndex,position:"absolute",transition:"all "+(t.isDragging?0:t.speed)+"s ease",transform:"\n        scale("+e.scale+", "+e.scale+") \n        translate("+e.xPos+"px, 0)\n      ",transformOrigin:e.transformOrigin},attrs:{src:e.cover,scale:e.imageScale,speed:t.speed,isDragging:t.isDragging,isSelected:1===a&&t.isDetailView,opacity:e.imageOpacity}})}),1)},y=[],k=(i("6c7b"),i("cebc")),w=(i("c5f6"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"card"},[i("img",{style:{opacity:t.opacity,transform:"scale("+t.getScale()+", "+t.getScale()+") translate(0, "+(t.isSelected?130:0)+"px)",transition:"transform "+(t.isDragging?0:t.speed)+"s, opacity "+(t.isDragging?0:t.speed)+"s"},attrs:{src:t.src,draggable:"false"}})])}),P=[],S=a["a"].extend({methods:{getScale:function(){return this.scale>1?.5:(1-this.scale+1)/2}},props:{scale:{type:Number,default:1},speed:{type:Number,default:function(){return.2}},isSelected:{type:Boolean,default:!1},isDragging:{type:Boolean,default:!1},src:{type:String},opacity:{type:Number,default:1}}}),O=S,_=(i("9958"),Object(d["a"])(O,w,P,!1,null,"6f99e808",null)),$=_.exports;function V(t,e,i){var a;return function(){var s=this,r=arguments,n=function(){a=null,i||t.apply(s,r)},c=i&&!a;clearTimeout(a),a=setTimeout(n,e),c&&t.apply(s,r)}}var M=i("c64e"),j=i.n(M),R=a["a"].extend({props:{onMove:{type:Function,required:!0},onDetailViewMove:{type:Function,required:!0},onChange:{type:Function,required:!0},onSelect:{type:Function,required:!0},onDeselect:{type:Function,required:!0},maxVisible:{type:Number,default:function(){return 3}},cards:{type:Array,required:!0,default:function(){return[]}}},data:function(){return{activeCardIndex:1,activeCardOffset:0,cardWidth:286,cardHeight:458,debounceRate:25,dragging:!1,dragStartX:0,dragStartY:0,isTouch:"ontouchstart"in window,isDetailView:!1,isDragging:!1,isDraggingLeft:!1,isDraggingRight:!1,isDraggingDown:!1,isDraggingUp:!1,opacityMultiplier:.35,scaleMultiplier:.075,speed:.2,stack:[],stackGutter:24,stackRestPoints:[]}},components:{Card:$},methods:{moveNext:function(){this.isDraggingRight=!0,this.isDraggingLeft=!1,this.activeCardIndex=1,this.$data.stack[this.activeCardIndex].xPos=this.activeCardMaxTravelDistance,this.updateStack()},movePrevious:function(){this.isDraggingRight=!1,this.isDraggingLeft=!0,this.activeCardIndex=0,this.$data.stack[this.activeCardIndex].xPos=-this.activeCardMaxTravelDistance,this.updateStack()},updateStack:function(){var t=this,e=this.$data.stack[this.activeCardIndex],i=this.stackRestPoints[this.activeCardIndex],a=e.xPos-i;if(this.isDraggingRight){if(a>this.activeCardMaxTravelDistance/4){var s=this.$data.stack.shift();this.$data.stack.push(s)}}else if(-1*a>this.activeCardMaxTravelDistance/4){var r=this.$data.stack.pop();this.$data.stack.unshift(r)}this.$data.stack=this.$data.stack.map(function(e,i){return Object(k["a"])({_uuid:e._uuid},t.getDefaultCardProps(e,i))}),this.onStackUpdate()},moveStack:function(t){var e=this;this.$data.stack=this.$data.stack.map(function(i,a){var s=e.getDefaultCardProps(i,a),r=e.getCardStackPosition(a);e.activeCardOffset=t-e.dragStartX,e.isDraggingLeft=t<e.dragStartX,e.isDraggingRight=t>e.dragStartX,e.isDraggingRight?e.activeCardIndex=1:e.activeCardIndex=0;var n=a===e.activeCardIndex;return n&&e.onStackMove(e.activeCardOffset/e.activeCardMaxTravelDistance),Object(k["a"])({},s,{_uuid:i._uuid,xPos:e.calculateCardProp(s.xPos,e.cardXPosOffset,1,n),opacity:e.isCardVisible(r)?1:0,imageOpacity:e.isCardVisible(r)?e.calculateCardProp(s.imageOpacity,e.opacityMultiplier,0,n):0,scale:e.calculateCardProp(s.scale,e.scaleMultiplier,0,n),imageScale:e.calculateCardProp(s.imageScale,4*e.scaleMultiplier,0,n)})})},moveDetailView:function(t){var e=this;this.isDraggingDown=t-this.dragStartY>0;var i=90,a=this.$data.stack[this.activeCardIndex];if(this.isDraggingDown){var s=this.getDefaultCardProps(a,this.activeCardIndex),r=this.stackWidth-s.width,n=r/i,c=.6-s.imageScale,o=c/i;this.$data.stack=this.$data.stack.map(function(t,a){return a===e.activeCardIndex?Object(k["a"])({_uuid:t._uuid},e.getDefaultCardProps(t,a),{width:t.width-s.width/i,height:e.stackHeight,xPos:0,imageScale:t.imageScale*o,transformOrigin:"100% 100%",borderRadius:0}):Object(k["a"])({_uuid:t._uuid},e.getDefaultCardProps(t,a))}),this.onDetailViewMove(1-n)}},handleDetailView:function(){var t=this;this.isDetailView=!0,this.speed=.5,this.$data.stack=this.$data.stack.map(function(e,i){return i===t.activeCardIndex?Object(k["a"])({_uuid:e._uuid},t.getDefaultCardProps(e,i),{width:t.stackWidth,height:t.stackHeight,xPos:0,imageScale:.6,transformOrigin:"100% 100%",borderRadius:0}):Object(k["a"])({_uuid:e._uuid},t.getDefaultCardProps(e,i))}),this.$props.onSelect(this.$data.stack[1].id)},calculateCardProp:function(t,e,i,a){var s=a?i:e/this.activeCardMaxTravelDistance;return t+s*this.activeCardOffset},getDragXPos:function(t){return this.isTouch?t.touches[0].clientX:t.clientX},getDragYPos:function(t){return this.isTouch?t.touches[0].clientY:t.clientY},onTouchStart:function(t){this.isDragging=!0,this.dragStartX=this.getDragXPos(t)-this.elementXPosOffset,this.dragStartY=this.getDragYPos(t),this.$el.addEventListener(this.drag,this.onDrag)},onTouchEnd:function(){if(this.isDragging=!1,this.dragStartX=0,this.dragStartY=0,this.$el.removeEventListener(this.drag,this.onDrag),!this.isDetailView){var t=this.activeCardOffset/this.activeCardMaxTravelDistance;0===t||this.updateStack()}},onDrag:function(t){this.isDetailView?this.moveDetailView(this.getDragYPos(t)):this.moveStack(this.getDragXPos(t)-this.elementXPosOffset)},getCardStackPosition:function(t){return t-1},getCardProp:function(t,e){var i=1-t*e;return i<=1?i<0?0:i:1},isCardVisible:function(t){return t<this.$props.maxVisible},getDefaultCardProps:function(t,e){var i=this.getCardStackPosition(e);return{id:t.id,background:"#fff",borderRadius:"8px",title:t.title,height:this.cardHeight,width:this.cardWidth,xPos:this.stackRestPoints[e],yPos:0,zIndex:this.totalCards-e,opacity:this.isCardVisible(i)?1:0,imageOpacity:this.isCardVisible(i)?this.getCardProp(i,this.opacityMultiplier):0,scale:this.getCardProp(i,this.scaleMultiplier),imageScale:this.getCardProp(i,4*this.scaleMultiplier),cover:t.cover,isVisible:this.isCardVisible(i),transformOrigin:0}},getStackRestPoints:function(){var t=this;return new Array(this.totalCards).fill("").map(function(e,i){if(0===i)return t.stackWidth;var a=t.getCardStackPosition(i),s=t.cardXPosOffset*a;return t.stackWidth-t.cardWidth-s-t.stackGutter})},onStackDeselect:function(){var t=this;this.isDetailView=!1,this.speed=.2,this.$data.stack=this.$data.stack.map(function(e,i){return Object(k["a"])({_uuid:e._uuid},t.getDefaultCardProps(e,i))}),this.$props.onDeselect(this.$data.stack[1].id)},onStackMove:function(t){this.$props.onMove(t)},onStackUpdate:function(){this.$props.onChange(this.$data.stack[1].id),this.activeCardOffset=0}},computed:{maxVisibleCards:function(){return this.$props.maxVisible},totalCards:function(){return this.$props.cards.length},cardXPosOffset:function(){return(this.stackWidth-2*this.stackGutter-this.cardWidth)/(this.maxVisibleCards-1)},stackWidth:function(){return this.$el.clientWidth},stackHeight:function(){return this.$el.clientHeight},elementXPosOffset:function(){return this.$el.getBoundingClientRect().x},activeCardMaxTravelDistance:function(){return this.cardWidth+this.stackGutter},drag:function(){return this.isTouch?"touchmove":"mousemove"},touchStart:function(){return this.isTouch?"touchstart":"mousedown"},touchEnd:function(){return this.isTouch?"touchend":"mouseup"}},mounted:function(){var t=this,e=V(this.onTouchStart,this.debounceRate);document.addEventListener(this.touchStart,e);var i=V(this.onTouchEnd,this.debounceRate);document.addEventListener(this.touchEnd,i);var a=[].concat(this.$props.cards),s=a.pop();a.unshift(s),this.$data.stackRestPoints=this.getStackRestPoints(),this.$data.stack=a.map(function(e,i){return Object(k["a"])({_uuid:j()()},t.getDefaultCardProps(e,i))});var r=function(e){var i=37,a=38,s=39;e.which===i?t.isDetailView||t.movePrevious():e.which===s?t.isDetailView||t.moveNext():e.which===a||e.which},n=V(r,this.debounceRate);document.addEventListener("keydown",n),this.onStackUpdate()}}),I=R,T=(i("cdbe"),Object(d["a"])(I,C,y,!1,null,"87e62854",null)),E=T.exports,X=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("h1",{staticClass:"logo"},[t._v("\n  "+t._s(t.title)+"\n  "),i("div",{staticClass:"period"})])},H=[],A=a["a"].extend({props:{title:String}}),L=A,N=(i("9a94"),Object(d["a"])(L,X,H,!1,null,"26dccac6",null)),Y=N.exports,W=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"panel",class:{active:t.active},style:{transition:"all "+t.speed+"s ease"}},[t._t("default")],2)},F=[],q=a["a"].extend({props:{active:{type:Boolean,default:!1},speed:{type:Number,default:function(){return.2}}}}),B=q,G=(i("6abe"),Object(d["a"])(B,W,F,!1,null,"69fcaa72",null)),U=G.exports,z=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"rating"},t._l(5,function(e){return i("Star",{key:e,attrs:{active:e<=t.rating}})}),1)},J=[],K=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"star",class:{active:t.active}})},Q=[],Z=a["a"].extend({props:{active:{type:Boolean,default:!1}}}),tt=Z,et=(i("56ca"),Object(d["a"])(tt,K,Q,!1,null,"7e312756",null)),it=et.exports,at=a["a"].extend({components:{Star:it},props:{rating:{type:Number,default:function(){return 0}}}}),st=at,rt=(i("9652"),Object(d["a"])(st,z,J,!1,null,"5c42f51a",null)),nt=rt.exports,ct=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("header",{staticClass:"header"},[t._t("default")],2)},ot=[],ut=a["a"].extend({}),dt=ut,lt=(i("54b1"),Object(d["a"])(dt,ct,ot,!1,null,"90b9a596",null)),ht=lt.exports,ft=[{id:"4",title:"The Martian",release:"10.2.18",cover:"img/covers/the-martian.jpg",rating:2,description:"<p>A young blade runner's discovery of a long-buried secret leads him to track down former blade runner Rick Deckard, who's been missing for thirty years.</p>"},{id:"1",title:"Blade Runner 2049",release:"10.6.17",cover:"img/covers/blade-runner.jpg",rating:5,description:"<p>A young blade runner's discovery of a long-buried secret leads him to track down former blade runner Rick Deckard, who's been missing for thirty years.</p>"},{id:"2",title:"Justice League",release:"10.6.17",cover:"img/covers/justice-league.jpg",rating:1,description:"<p>A young blade runner's discovery of a long-buried secret leads him to track down former blade runner Rick Deckard, who's been missing for thirty years.</p>"},{id:"3",title:"Ex Machina",release:"10.6.17",cover:"img/covers/ex-machina.jpg",rating:4,description:"<p>A young blade runner's discovery of a long-buried secret leads him to track down former blade runner Rick Deckard, who's been missing for thirty years.</p>"},{id:"5",title:"Alien",release:"10.6.17",cover:"img/covers/alien.jpg",rating:3,description:"<p>A young blade runner's discovery of a long-buried secret leads him to track down former blade runner Rick Deckard, who's been missing for thirty years.</p>"},{id:"6",title:"Interstellar",release:"10.6.17",cover:"img/covers/interstellar.jpg",rating:5,description:"<p>A young blade runner's discovery of a long-buried secret leads him to track down former blade runner Rick Deckard, who's been missing for thirty years.</p>"}],gt=a["a"].extend({components:{Avatar:x,CardStack:E,Header:ht,Logo:Y,Panel:U,Rating:nt},data:function(){return{data:ft,offset:20,activeIndex:0,factor:0,detailViewOffsetFactor:0,isDragging:!1,speed:.2,isDetailView:!1}},methods:{getStackYPosition:function(){var t=90;return this.isDetailView?0+t*this.detailViewOffsetFactor:t},getHeaderOffset:function(){return this.isDetailView?-100:0},getHeaderScale:function(){return this.isDetailView?1.25:1},getHeaderOpacity:function(){return this.isDetailView?0:1},getActiveRating:function(){return this.data[this.activeIndex].rating},isCurrent:function(t){return t===this.activeIndex},isPrevious:function(t){var e=this.activeIndex>0?this.activeIndex-1:this.data.length-1;return t===e},isNext:function(t){var e=this.activeIndex<this.data.length-1?this.activeIndex+1:0;return t===e},isVisible:function(t){return this.isCurrent(t)||this.isPrevious(t)||this.isNext(t)},onChange:function(t){this.isDragging=!1,this.activeIndex=this.data.findIndex(function(e){return t===e.id})},onSelect:function(){this.speed=.5,this.isDetailView=!0},onDeselect:function(){this.speed=.2,this.isDetailView=!1},getYPosition:function(t){return this.isDragging?this.isCurrent(t)?1-this.factor*this.offset*2:this.isPrevious(t)?-this.offset+this.factor*-this.offset:this.isNext(t)?this.offset-this.factor*this.offset:0:this.isPrevious(t)?-this.offset:this.isNext(t)?this.offset:0},getOpacity:function(t){return this.isDragging?this.factor>=0?this.isCurrent(t)?1-2*this.factor:this.isNext(t)?this.factor:0:this.factor<0?this.isCurrent(t)?1+2*this.factor:this.isPrevious(t)?-1*this.factor:0:void 0:this.isCurrent(t)?1:0},onMove:function(t){this.isDragging=!0,this.factor=t},onDetailViewMove:function(t){this.isDragging=!0,this.detailViewOffsetFactor=t}}}),pt=gt,vt=(i("c73b"),Object(d["a"])(pt,f,g,!1,null,"f7b327d2",null)),mt=vt.exports,bt=a["a"].extend({components:{Shell:h,Explorer:mt}}),Dt=bt,xt=(i("5c0b"),Object(d["a"])(Dt,s,r,!1,null,null,null)),Ct=xt.exports;a["a"].config.productionTip=!1,new a["a"]({render:function(t){return t(Ct)}}).$mount("#app")},"5c0b":function(t,e,i){"use strict";var a=i("5e27"),s=i.n(a);s.a},"5e27":function(t,e,i){},6493:function(t,e,i){},"6abe":function(t,e,i){"use strict";var a=i("afd2"),s=i.n(a);s.a},"6e7b":function(t,e,i){},7006:function(t,e,i){},"78c0":function(t,e,i){},9652:function(t,e,i){"use strict";var a=i("6e7b"),s=i.n(a);s.a},9958:function(t,e,i){"use strict";var a=i("ed18"),s=i.n(a);s.a},"9a94":function(t,e,i){"use strict";var a=i("c17b"),s=i.n(a);s.a},"9f7e":function(t,e,i){},ae3d:function(t,e,i){},afd2:function(t,e,i){},c17b:function(t,e,i){},c73b:function(t,e,i){"use strict";var a=i("ae3d"),s=i.n(a);s.a},cdbe:function(t,e,i){"use strict";var a=i("9f7e"),s=i.n(a);s.a},e158:function(t,e,i){"use strict";var a=i("7006"),s=i.n(a);s.a},ed18:function(t,e,i){},f918:function(t,e,i){"use strict";var a=i("24f6"),s=i.n(a);s.a}});
//# sourceMappingURL=app.c4d6847a.js.map